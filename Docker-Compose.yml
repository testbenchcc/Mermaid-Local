services:
  mermaid-local:
    image: mermaid-local:latest
    build:
      context: https://github.com/testbenchcc/Mermaid-Local.git
      dockerfile: Dockerfile
    container_name: mermaid-local
    command: uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4
    ports:
      - "8080:8000"
    restart: unless-stopped
    environment:
      - PYTHONUNBUFFERED=1
      - DB_PATH=/app/data/diagrams.db
    volumes:
      - /home/tbrinkhuils/Mermaid-Local:/app/data
